package com.benner.regulador;
import java.util.Map;
import java.util.HashMap;
import org.jbpm.casemgmt.api.CaseService;
import org.jbpm.casemgmt.api.model.instance.CaseFileInstance;
import org.jbpm.document.Document;
import org.jbpm.services.api.service.ServiceRegistry;

rule "Testando o case file em drl"
    ruleflow-group "@@@-case-@@@"
    dialect "mvel"
    when
        $caseData : CaseFileInstance()
        //$controle : controle()
        //Document(name == "invalid.pdf") from $caseData.getData("hwSpec")
        
    then
    	controle $controle = new controle();
    	$controle.setSituacaoANS( "EM ANALISE" );
        $controle.setNegativaBeneficiario(false);
        $controle.setNegativaPrestador(false);
        //$controle.setDescricao("ESTOU MUDANDO TUDO");
		insert( $controle );
		update( $controle );
		//System.out.println("Entrou no teste do caseFile");
        //System.out.println($caseData.getData());
        //System.out.println($caseData.getData("controle"));
        //System.out.println($controle.getDescricao());
    	
    	
end